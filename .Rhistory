F_bar_F = data.frame(year=ts, Fbar=rowMeans((Fish_mort_F[,c((age_split[[1]][1]+2):age_split[[1]][2]+2)])))
Zm_bar = F_bar_M
Zf_bar = F_bar_F
Zm_bar[,2] = Zm_bar[,2] + mean_Mm
Zf_bar[,2] = Zf_bar[,2] + mean_Mf
DF_Zm = data.frame(year=ts,	seed= c(Zm_bar[1,2],rep("",(length(ts)-1))),	Jan=Zm_bar[,2],	Feb=Zm_bar[,2],	Mar=Zm_bar[,2],	Apr=Zm_bar[,2],	May=Zm_bar[,2],	Jun=Zm_bar[,2],	Jul=Zm_bar[,2],	Aug=Zm_bar[,2],	Sep=Zm_bar[,2],	Oct=Zm_bar[,2],	Nov=Zm_bar[,2],	Dec=Zm_bar[,2],sex="M")
DF_Zf = data.frame(year=ts,	seed= c(Zf_bar[1,2],rep("",(length(ts)-1))),	Jan=Zf_bar[,2],	Feb=Zf_bar[,2],	Mar=Zf_bar[,2],	Apr=Zf_bar[,2],	May=Zf_bar[,2],	Jun=Zf_bar[,2],	Jul=Zf_bar[,2],	Aug=Zf_bar[,2],	Sep=Zf_bar[,2],	Oct=Zf_bar[,2],	Nov=Zf_bar[,2],	Dec=Zf_bar[,2],sex="F")
DF_Z=rbind(DF_Zm,DF_Zf)
DF_Z
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\adjust_M_wrt_tr.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\age_split_Fbar.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\tuning_config_creation.R")
#####################################################
# Before beginning, set the following variables
## paths
# input path - main folder where we can find M, F and config_file
ip <- "C:\\INPUT\\ALADYM"
# output path - where you want to save the output (usually C:\INPUT\ALADYM)
op <- "C:\\INPUT\\ALADYM"
# species folder - used for M and F files
species_folder <- "HKE1718"
# are there different M files for males and females?
M_different <- TRUE
## set the M files names -> make sure these start from age = 0
# sex-specific files?
M_male <- "M_male_HKE.csv"
M_female <- "M_female_HKE.csv"
# same file?
M_file <- "M_HKE.csv"
## set the F_at_age file name
F_at_age_M <- "F_at_age_HKE_M.csv"
F_at_age_F <- "F_at_age_HKE_F.csv"
## set Fbar file name
Fbar_assessment <- "None"
# Fbar_assessment <- "Fbar_assessment_DPS.csv"
## set initial configuration file -> must live in C:\INPUT\ALADYM
## make sure that NA values are specified as NAN (needed for the splitting)
configuration <- "aladym_DPS_GSA17_18_19_20.csv"
## set tr
tr = c(0, 1, 2, 3)
## set F_range over which to calculate Fbar, eg: list(c(0,3),c(1,4))
F_range = list(c(0,1),c(2,3),c(4,5))
# F_range = "None"
## time series
ts = c(2004:2024)
## species
spe = 'HKE'
#####################################################
age_split_Fbar(input_path = ip, output_path = op, species_folder = species_folder,
F_range = F_range, tr = tr, ts = ts, spe = spe, Fbar_assessment = Fbar_assessment,
F_at_age_M = F_at_age_M, F_at_age_F = F_at_age_F, M_different = M_different, M_male = M_male,
M_female = M_female)
F_range != NULL
if(F_range != NULL)
F_range != "None"
(F_range != "None")[1]
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\adjust_M_wrt_tr.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\age_split_Fbar.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\tuning_config_creation.R")
#####################################################
# Before beginning, set the following variables
## paths
# input path - main folder where we can find M, F and config_file
ip <- "C:\\INPUT\\ALADYM"
# output path - where you want to save the output (usually C:\INPUT\ALADYM)
op <- "C:\\INPUT\\ALADYM"
# species folder - used for M and F files
species_folder <- "HKE1718"
# are there different M files for males and females?
M_different <- TRUE
## set the M files names -> make sure these start from age = 0
# sex-specific files?
M_male <- "M_male_HKE.csv"
M_female <- "M_female_HKE.csv"
# same file?
M_file <- "M_HKE.csv"
## set the F_at_age file name
F_at_age_M <- "F_at_age_HKE_M.csv"
F_at_age_F <- "F_at_age_HKE_F.csv"
## set Fbar file name
Fbar_assessment <- "None"
# Fbar_assessment <- "Fbar_assessment_DPS.csv"
## set initial configuration file -> must live in C:\INPUT\ALADYM
## make sure that NA values are specified as NAN (needed for the splitting)
configuration <- "aladym_DPS_GSA17_18_19_20.csv"
## set tr
tr = c(0, 1, 2, 3)
## set F_range over which to calculate Fbar, eg: list(c(0,3),c(1,4))
F_range = list(c(0,1),c(2,3),c(4,5))
# F_range = "None"
## time series
ts = c(2004:2024)
## species
spe = 'HKE'
#####################################################
age_split_Fbar(input_path = ip, output_path = op, species_folder = species_folder,
F_range = F_range, tr = tr, ts = ts, spe = spe, Fbar_assessment = Fbar_assessment,
F_at_age_M = F_at_age_M, F_at_age_F = F_at_age_F, M_different = M_different, M_male = M_male,
M_female = M_female)
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\adjust_M_wrt_tr.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\age_split_Fbar.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\tuning_config_creation.R")
#####################################################
# Before beginning, set the following variables
## paths
# input path - main folder where we can find M, F and config_file
ip <- "C:\\INPUT\\ALADYM"
# output path - where you want to save the output (usually C:\INPUT\ALADYM)
op <- "C:\\INPUT\\ALADYM"
# species folder - used for M and F files
species_folder <- "HKE1718"
# are there different M files for males and females?
M_different <- TRUE
## set the M files names -> make sure these start from age = 0
# sex-specific files?
M_male <- "M_male_HKE.csv"
M_female <- "M_female_HKE.csv"
# same file?
M_file <- "M_HKE.csv"
## set the F_at_age file name
F_at_age_M <- "F_at_age_HKE_M.csv"
F_at_age_F <- "F_at_age_HKE_F.csv"
## set Fbar file name
Fbar_assessment <- "None"
# Fbar_assessment <- "Fbar_assessment_DPS.csv"
## set initial configuration file -> must live in C:\INPUT\ALADYM
## make sure that NA values are specified as NAN (needed for the splitting)
configuration <- "aladym_DPS_GSA17_18_19_20.csv"
## set tr
tr = c(0, 1, 2, 3)
## set F_range over which to calculate Fbar, eg: list(c(0,3),c(1,4))
F_range = list(c(0,1),c(2,3),c(4,5))
# F_range = "None"
## time series
ts = c(2004:2024)
## species
spe = 'HKE'
#####################################################
age_split_Fbar(input_path = ip, output_path = op, species_folder = species_folder,
F_range = F_range, tr = tr, ts = ts, spe = spe, Fbar_assessment = Fbar_assessment,
F_at_age_M = F_at_age_M, F_at_age_F = F_at_age_F, M_different = M_different, M_male = M_male,
M_female = M_female)
input_path = ip
output_path = op
species_folder = species_folder
F_range = F_range
tr = tr
ts = ts
spe = spe
Fbar_assessment = Fbar_assessment
F_at_age_M = F_at_age_M
F_at_age_F = F_at_age_F
M_different = M_different
M_male = M_male
M_female = M_female
(F_range != "None")[1]
age_split = F_range[1]
tr_ = tr[1]
age_split
tr_
if (tr_[1] == 0){
mean_Mm=mean(Mm_vector[,2])
mean_Mf=mean(Mf_vector[,2])
} else{
mean_Mm=mean(Mm_vector[-c(1:tr_),2])
mean_Mf=mean(Mf_vector[-c(1:tr_),2])
}
Mm_vector=read.table(paste(input_path, "\\", species_folder, "\\", M_male, sep=""), sep=";", header=T)
Mf_vector=read.table(paste(input_path, "\\", species_folder, "\\", M_female, sep=""), sep=";", header=T)
paste(input_path, "\\", species_folder, "\\", M_male, sep="")
if (tr_[1] == 0){
mean_Mm=mean(Mm_vector[,2])
mean_Mf=mean(Mf_vector[,2])
} else{
mean_Mm=mean(Mm_vector[-c(1:tr_),2])
mean_Mf=mean(Mf_vector[-c(1:tr_),2])
}
F_bar_M = data.frame(year=ts, Fbar=rowMeans((Fish_mort_M[,c((age_split[1][1]+2):age_split[1][2]+2)])))
# F_at_age matrix
F_file_M <- read.table(paste(input_path, "\\", species_folder, "\\", F_at_age_M, sep=""), sep=";", header=T, check.names = FALSE)
Fish_mort_M <- F_file_M[F_file_M[,1] %in% ts,]
F_file_F <- read.table(paste(input_path, "\\", species_folder, "\\", F_at_age_F, sep=""), sep=";", header=T, check.names = FALSE)
Fish_mort_F <- F_file_F[F_file_F[,1] %in% ts,]
F_bar_M = data.frame(year=ts, Fbar=rowMeans((Fish_mort_M[,c((age_split[1][1]+2):age_split[1][2]+2)])))
age_split[1][1]
age_split[1][1]+2
age_split[[1]][1]+2
F_bar_M = data.frame(year=ts, Fbar=rowMeans((Fish_mort_M[,c((age_split[[1]][1]+2):age_split[[1]][2]+2)])))
F_bar_F = data.frame(year=ts, Fbar=rowMeans((Fish_mort_F[,c((age_split[[1]][1]+2):age_split[[1]][2]+2)])))
Zm_bar = F_bar_M
Zf_bar = F_bar_F
Zm_bar[,2] = Zm_bar[,2] + mean_Mm
Zf_bar[,2] = Zf_bar[,2] + mean_Mf
DF_Zm = data.frame(year=ts,	seed= c(Zm_bar[1,2],rep("",(length(ts)-1))),	Jan=Zm_bar[,2],	Feb=Zm_bar[,2],	Mar=Zm_bar[,2],	Apr=Zm_bar[,2],	May=Zm_bar[,2],	Jun=Zm_bar[,2],	Jul=Zm_bar[,2],	Aug=Zm_bar[,2],	Sep=Zm_bar[,2],	Oct=Zm_bar[,2],	Nov=Zm_bar[,2],	Dec=Zm_bar[,2],sex="M")
DF_Zf = data.frame(year=ts,	seed= c(Zf_bar[1,2],rep("",(length(ts)-1))),	Jan=Zf_bar[,2],	Feb=Zf_bar[,2],	Mar=Zf_bar[,2],	Apr=Zf_bar[,2],	May=Zf_bar[,2],	Jun=Zf_bar[,2],	Jul=Zf_bar[,2],	Aug=Zf_bar[,2],	Sep=Zf_bar[,2],	Oct=Zf_bar[,2],	Nov=Zf_bar[,2],	Dec=Zf_bar[,2],sex="F")
DF_Z=rbind(DF_Zm,DF_Zf)
DF_Z
age_split[1]
age_split[1][1]
age_split[[1]][2]
age_split[1]
age_split[2]
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\adjust_M_wrt_tr.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\age_split_Fbar.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\tuning_config_creation.R")
#####################################################
# Before beginning, set the following variables
## paths
# input path - main folder where we can find M, F and config_file
ip <- "C:\\INPUT\\ALADYM"
# output path - where you want to save the output (usually C:\INPUT\ALADYM)
op <- "C:\\INPUT\\ALADYM"
# species folder - used for M and F files
species_folder <- "HKE1718"
# are there different M files for males and females?
M_different <- TRUE
## set the M files names -> make sure these start from age = 0
# sex-specific files?
M_male <- "M_male_HKE.csv"
M_female <- "M_female_HKE.csv"
# same file?
M_file <- "M_HKE.csv"
## set the F_at_age file name
F_at_age_M <- "F_at_age_HKE_M.csv"
F_at_age_F <- "F_at_age_HKE_F.csv"
## set Fbar file name
Fbar_assessment <- "None"
# Fbar_assessment <- "Fbar_assessment_DPS.csv"
## set initial configuration file -> must live in C:\INPUT\ALADYM
## make sure that NA values are specified as NAN (needed for the splitting)
configuration <- "aladym_DPS_GSA17_18_19_20.csv"
## set tr
tr = c(0, 1, 2, 3)
## set F_range over which to calculate Fbar, eg: list(c(0,3),c(1,4))
F_range = list(c(0,1),c(2,3),c(4,5))
# F_range = "None"
## time series
ts = c(2004:2024)
## species
spe = 'HKE'
#####################################################
age_split_Fbar(input_path = ip, output_path = op, species_folder = species_folder,
F_range = F_range, tr = tr, ts = ts, spe = spe, Fbar_assessment = Fbar_assessment,
F_at_age_M = F_at_age_M, F_at_age_F = F_at_age_F, M_different = M_different, M_male = M_male,
M_female = M_female)
Fish_mort_M
M_female = M_female
M_male = M_male
input_path = ip
output_path = op
species_folder = species_folder
F_range = F_range
tr = tr
ts = ts
spe = spe
Fbar_assessment = Fbar_assessment
F_at_age_M = F_at_age_M
F_at_age_F = F_at_age_F
M_different = M_different
M_male = M_male
M_female = M_female
# F_at_age matrix
F_file_M <- read.table(paste(input_path, "\\", species_folder, "\\", F_at_age_M, sep=""), sep=";", header=T, check.names = FALSE)
Fish_mort_M <- F_file_M[F_file_M[,1] %in% ts,]
F_file_F <- read.table(paste(input_path, "\\", species_folder, "\\", F_at_age_F, sep=""), sep=";", header=T, check.names = FALSE)
Fish_mort_F <- F_file_F[F_file_F[,1] %in% ts,]
Mm_vector=read.table(paste(input_path, "\\", species_folder, "\\", M_male, sep=""), sep=";", header=T)
Mf_vector=read.table(paste(input_path, "\\", species_folder, "\\", M_female, sep=""), sep=";", header=T)
Fish_mort_M
age_split[[1]][1]+2
age_split=F_range[3]
tr_ = tr[3]
age_split[[1]][1]+2
Fish_mort_M[,c((age_split[[1]][1]+2):age_split[[1]][2]+2)]
c((age_split[[1]][1]+2):age_split[[1]][2]+2)
age_split[[1]][1]
age_split[[1]][2]
age_split[[1]][1]+2
age_split[[1]][2]+2
c(6:7)
c((age_split[[1]][1]+2):age_split[[1]][2]+2)
# year=ts, Fbar=rowMeans((Fish_mort_M[,c((age_split[[1]][1]+2:age_split[[1]][2]+2)]))
F_bar_M = data.frame(year = ts, Fbar = rowMeans(Fish_mort_M[, c(age_split[[1]][1]+2:age_split[[1]][2]+2)]))
c(age_split[[1]][1]+2:age_split[[1]][2]+2)
age_split[[1]][1]+2
age_split[[1]][2]
age_split[[1]][2]+2
c((age_split[[1]][1]+2):(age_split[[1]][2]+2))
# year=ts, Fbar=rowMeans((Fish_mort_M[,c((age_split[[1]][1]+2:age_split[[1]][2]+2)]))
F_bar_M = data.frame(year = ts, Fbar = rowMeans(Fish_mort_M[, c((age_split[[1]][1]+2):(age_split[[1]][2]+2))]))
F_bar_F = data.frame(year = ts, Fbar = rowMeans(Fish_mort_F[, c((age_split[[1]][1]+2):(age_split[[1]][2]+2))]))
F_bar_M
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\adjust_M_wrt_tr.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\age_split_Fbar.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\tuning_config_creation.R")
#####################################################
# Before beginning, set the following variables
## paths
# input path - main folder where we can find M, F and config_file
ip <- "C:\\INPUT\\ALADYM"
# output path - where you want to save the output (usually C:\INPUT\ALADYM)
op <- "C:\\INPUT\\ALADYM"
# species folder - used for M and F files
species_folder <- "HKE1718"
# are there different M files for males and females?
M_different <- TRUE
## set the M files names -> make sure these start from age = 0
# sex-specific files?
M_male <- "M_male_HKE.csv"
M_female <- "M_female_HKE.csv"
# same file?
M_file <- "M_HKE.csv"
## set the F_at_age file name
F_at_age_M <- "F_at_age_HKE_M.csv"
F_at_age_F <- "F_at_age_HKE_F.csv"
## set Fbar file name
Fbar_assessment <- "None"
# Fbar_assessment <- "Fbar_assessment_DPS.csv"
## set initial configuration file -> must live in C:\INPUT\ALADYM
## make sure that NA values are specified as NAN (needed for the splitting)
configuration <- "aladym_DPS_GSA17_18_19_20.csv"
## set tr
tr = c(0, 1, 2, 3)
## set F_range over which to calculate Fbar, eg: list(c(0,3),c(1,4))
F_range = list(c(0,1),c(2,3),c(4,5))
# F_range = "None"
## time series
ts = c(2004:2024)
## species
spe = 'HKE'
#####################################################
age_split_Fbar(input_path = ip, output_path = op, species_folder = species_folder,
F_range = F_range, tr = tr, ts = ts, spe = spe, Fbar_assessment = Fbar_assessment,
F_at_age_M = F_at_age_M, F_at_age_F = F_at_age_F, M_different = M_different, M_male = M_male,
M_female = M_female)
for (age_split in F_range){print(age_split)}
age_split
age_split[1]
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\adjust_M_wrt_tr.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\age_split_Fbar.R")
source("C:\\Users\\Nazareno Campioni\\Desktop\\ALADYM_tuning_utils\\tuning_config_creation.R")
#####################################################
# Before beginning, set the following variables
## paths
# input path - main folder where we can find M, F and config_file
ip <- "C:\\INPUT\\ALADYM"
# output path - where you want to save the output (usually C:\INPUT\ALADYM)
op <- "C:\\INPUT\\ALADYM"
# species folder - used for M and F files
species_folder <- "HKE1718"
# are there different M files for males and females?
M_different <- TRUE
## set the M files names -> make sure these start from age = 0
# sex-specific files?
M_male <- "M_male_HKE.csv"
M_female <- "M_female_HKE.csv"
# same file?
M_file <- "M_HKE.csv"
## set the F_at_age file name
F_at_age_M <- "F_at_age_HKE_M.csv"
F_at_age_F <- "F_at_age_HKE_F.csv"
## set Fbar file name
Fbar_assessment <- "None"
# Fbar_assessment <- "Fbar_assessment_DPS.csv"
## set initial configuration file -> must live in C:\INPUT\ALADYM
## make sure that NA values are specified as NAN (needed for the splitting)
configuration <- "aladym_DPS_GSA17_18_19_20.csv"
## set tr
tr = c(0, 1, 2, 3)
## set F_range over which to calculate Fbar, eg: list(c(0,3),c(1,4))
F_range = list(c(0,1),c(2,3),c(4,5))
# F_range = "None"
## time series
ts = c(2004:2024)
## species
spe = 'HKE'
#####################################################
age_split_Fbar(input_path = ip, output_path = op, species_folder = species_folder,
F_range = F_range, tr = tr, ts = ts, spe = spe, Fbar_assessment = Fbar_assessment,
F_at_age_M = F_at_age_M, F_at_age_F = F_at_age_F, M_different = M_different, M_male = M_male,
M_female = M_female)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
b3 <- ggplot() +
geom_line(
data = best_sim,
aes(x = Year, y = Catch/1000, color = "Simulation"),
linewidth = 1.2
) +
geom_point(
data = catch_data,
aes(x = Year, y = Catch, color = "Observed"),
size = 2
) +
scale_color_manual(values = c("Simulation" = "black", "Observed" = "blue")) +
theme_bw() +
ggtitle(paste("SSB – Best combo:", best_combo)) +
ylab("Catch") +
xlab("Year") +
labs(color = "")
b3
catch_data
best_sim$Catch/1000
best_sim$Catch
b3 <- ggplot() +
geom_line(
data = best_sim,
aes(x = Year, y = Catch, color = "Simulation"),
linewidth = 1.2
) +
geom_point(
data = catch_data,
aes(x = Year, y = Catch, color = "Observed"),
size = 2
) +
scale_color_manual(values = c("Simulation" = "black", "Observed" = "blue")) +
theme_bw() +
ggtitle(paste("SSB – Best combo:", best_combo)) +
ylab("Catch") +
xlab("Year") +
labs(color = "")
b3
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
traceback()
F_range = "None"
(F_range != "None")[1]
ip <- "C:\\INPUT\\ALADYM"
# output path - where you want to save the output (usually C:\INPUT\ALADYM)
op <- "C:\\INPUT\\ALADYM"
# species folder - used for M and F files
species_folder <- "DPS17181920"
# are there different M files for males and females?
M_different <- TRUE
## set the M files names -> make sure these start from age = 0
# sex-specific files?
M_male <- "M_male_DPS.csv"
M_female <- "M_female_DPS.csv"
# same file?
M_file <- "M_HKE.csv"
## set the F_at_age file name
F_at_age_M <- "F_at_age_HKE_M.csv"
F_at_age_F <- "F_at_age_HKE_F.csv"
## set Fbar file name
# Fbar_assessment <- "None"
Fbar_assessment <- "Fbar_assessment_DPS.csv"
## set initial configuration file -> must live in C:\INPUT\ALADYM
## make sure that NA values are specified as NAN (needed for the splitting)
configuration <- "aladym_DPS_GSA17_18_19_20.csv"
## set tr
tr = c(0, 1, 2, 3)
## set F_range over which to calculate Fbar, eg: list(c(0,3),c(1,4))
# if you only have Fbar from assessment, set F_range = None
F_range = "None"
# F_range = list(c(0,1),c(2,3),c(4,5))
## time series
ts = c(2004:2024)
## species
spe = 'DPS'
#####################################################
input_path = ip, output_path = op, species_folder = species_folder,
input_path = ip
output_path = op
species_folder = species_folder
F_range = F_range
tr = tr
ts = ts
spe = spe
Fbar_assessment = Fbar_assessment
F_at_age_M = F_at_age_M
F_at_age_F = F_at_age_F
M_different = M_different
M_male = M_male
M_female = M_female
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
(F_at_age_M != "None") & (F_at_age_F != "None")
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/Desktop/ALADYM_tuning_main_config_script.R", echo = TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
list.files("C:\\INPUT\\ALADYM", pattern="assessment")
list.files("C:\\INPUT\\ALADYM", pattern="_assessment")
list.files("C:\\INPUT\\ALADYM", pattern="\\assessment")
list.files(getwd(), pattern="assessment")
ass_files <- list.files(getwd(), pattern="assessment")
grepl("Fbar", ass_files)
ass_files[grepl("Fbar", ass_files)]
grepl("landings", ass_files)
grepl("landings", tolower(ass_files))
grepl("Landings", tolower(ass_files))
ass_files[grepl("bar", ass_files)]
# list of assessment files
list_assessment <- list.files(getwd(), pattern="assessment")
SSB_file <- list_assessment[grepl("ssb", tolower(list_assessment))]
SSB_file
Fbar_file <- list_assessment[grepl("fbar", tolower(list_assessment))]
catch_file <- list_assessment[grepl("landings", tolower(list_assessment))]
SSB_data <- read.csv(paste(getwd(), "/", SSB_file, sep=""), sep=";", header=TRUE)
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
traceback()
source("C:/Users/Nazareno Campioni/ALADYM-ver12.3-2017_0501/ALADYM_tuning.r", echo = TRUE)
